% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/metaoverfit.R
\name{r2het}
\alias{r2het}
\title{Calculate Apparent R-squared for Heterogeneity}
\usage{
r2het(yi, vi, mods = NULL, data = NULL, method = "REML")
}
\arguments{
\item{yi}{Vector of effect sizes.}

\item{vi}{Vector of sampling variances.}

\item{mods}{Model matrix or formula for moderators. If a matrix, include intercept if desired.}

\item{data}{Optional data frame (required if `mods` is a formula).}

\item{method}{Heterogeneity estimator (default: "REML").}
}
\value{
A list with elements:
\itemize{
  \item \code{r2het} Apparent R^2_het.
  \item \code{r2het_adj} Adjusted R^2_het with small-sample penalty.
  \item \code{tau2_null}, \code{tau2_full} Estimated tau^2 from null and full models.
  \item \code{I2} I^2 from the null model.
  \item \code{k}, \code{p} Number of studies and parameters.
  \item \code{model_null}, \code{model_full} \code{metafor::rma} fits.
}
}
\description{
Calculate Apparent R-squared for Heterogeneity
}
\examples{
k <- 30
yi <- rnorm(k, 0, sqrt(0.1))
vi <- runif(k, 0.01, 0.1)
mods <- cbind(1, rnorm(k))
r2het(yi, vi, mods)
}
